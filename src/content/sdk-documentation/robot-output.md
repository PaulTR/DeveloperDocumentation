---
title: Robot Output
order: 6
section: SDK Documentation
---
## Returning data from the robot
There are two kinds of messages that the robot can send:
- **Command Responses**: robot responses to commands
- **Async Messages**: robot generated async messages.

<div class="objective-c language-only">
Both ```RKRobotBase``` and ```RKConvenienceRobot``` classes contain ```addResponseObserver:``` and ```removeResponseObserver:``` selectors to register a custom ```RKResponseObserver``` implementation to handle responses and async messages.
</div>

### Register for robot output
```objective-c
// register for responses with the RKResponseObserver protocol.  All ```handle...``` selectors are optional and will only be fired if implemented.
[_robot addResponseObserver:self]; // register with the robot for responses.
```

```swift
// TODO
```

```java
// TODO
```

```unity
// TODO
```

### Command Responses
Responses are robot responses to commands that return data much like a standard web request/response cycle.  Below handles a response from a ```RKReadOdometerCommand```.

```objective-c
- (void)handleResponse:(RKDeviceResponse *)response forRobot:(id<RKRobotBase>)robot {
	// handle syncronous responses from 'get' command requests
	if([response isKindOfClass:[RKReadOdometerResponse class]]){
		RKReadOdometerResponse* ror = (RKReadOdometerResponse*) response;
		uint32_t distance = ror.distanceInMeters;
	}
}
```

```swift
//TODO

```

```java
//TODO

```

```unity
//TODO

```

### Robot Async Messages
Async messages are messages generated by logic on the robot either by sensors, or developer defined Macro Emits and Oval Async notifications.  Push notifications are analogous to robot async-messages.
- Sensor Data
- Collision Detected
- Self Level Complete
- Sleep Will/Did Occur
- Power State Change
- Macro Emit
- Oval Async (developer defined)

*The example snippit below shows setup and handling of Collision Async messages.*

#### Example: Enable collision detection

```objective-c
// enable collision detection with RKConvenienceRobot
[_robot enableCollisions:YES];
```

```objective-c
// OR customize collision detection with RKRobotBase & sendCommand:
[_robot sendCommand:[[RKConfigureCollisionDetectionCommand alloc]
								initForMethod:RKCollisionDetectionMethod3
								xThreshold:50 xSpeedThreshold:30 yThreshold:200 ySpeedThreshold:0 postTimeDeadZone:.2]];
}
```

```swift
//TODO - enable collision detection

```

```java
//TODO - enable collision detection
```

```unity
//TODO - enable collision detection
```

#### Handle Async Messages on collision
```objective-c
-(void)handleAsyncMessage:(RKAsyncMessage *)message forRobot:(id<RKRobotBase>)robot {
	if([message isKindOfClass:[RKCollisionDetectedAsyncData class]]){
		// handleCollisionDetected
	}
}
```

```swift
//TODO - handle Collisions
```

```java
//TODO - handle Collisions
```

```unity
//TODO - handle Collisions
```
